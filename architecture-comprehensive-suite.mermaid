graph TB
    %% Core System Ecosystem - Complete 38+ Feature Suite
    subgraph "CoreSuite [ğŸ¯ TweetCraft AI Suite - 38+ Features]"
        subgraph "ContentGen [ğŸš€ Content Generation (7 Features)]"
            ReplyGen["ğŸ’¬ AI Reply Generation<br/>âœ… 12 tones, context-aware<br/>âœ… Thread analysis (4 tweets)<br/>âœ… Custom prompts"]
            
            TweetGen["âœ¨ AI Tweet Creation<br/>ğŸ”„ Topic-to-tweet generation<br/>ğŸ”„ Style options (engaging/educational)<br/>ğŸ”„ Auto hashtag suggestions"]
            
            ThreadComp["ğŸ§µ Thread Composer<br/>ğŸ”„ Multi-tweet structuring<br/>ğŸ”„ Flow optimization<br/>ğŸ”„ Character management"]
            
            QuoteGen["ğŸ’¬ Quote Tweet Generator<br/>ğŸ”„ Intelligent commentary<br/>ğŸ”„ Context-aware quotes<br/>ğŸ”„ Engagement optimization"]
            
            BulkGen["ğŸ“Š Bulk Generator<br/>ğŸ”„ Multiple tweets simultaneously<br/>ğŸ”„ Template-based batching<br/>ğŸ”„ Scheduled preparation"]
            
            SmartEnhance["âš¡ Smart Enhancement<br/>ğŸ”„ AI content optimization<br/>ğŸ”„ Engagement improvements<br/>ğŸ”„ Tone adjustments"]
            
            O3Advanced["ğŸ§  O3 Advanced Writing<br/>ğŸ”„ Cutting-edge models<br/>ğŸ”„ Complex reasoning<br/>ğŸ”„ Premium quality output"]
        end
        
        subgraph "Research [ğŸ” Research & Analysis (10 Features)]"
            ResearchAssist["ğŸ”¬ Research Assistant<br/>âœ… Real-time data (Perplexity)<br/>âœ… Multiple depth levels<br/>âœ… Source citations"]
            
            ContentAnalysis["ğŸ“Š Content Analysis<br/>âœ… Sentiment analysis<br/>âœ… Engagement prediction<br/>âœ… Viral assessment"]
            
            ThreadAnalysis["ğŸ§µ Thread Analysis<br/>ğŸ”„ Structure optimization<br/>ğŸ”„ Coherence scoring<br/>ğŸ”„ Flow analysis"]
            
            FactCheck["âœ… Fact Checker<br/>ğŸ”„ Real-time verification<br/>ğŸ”„ Source validation<br/>ğŸ”„ Misinformation detection"]
            
            PsychSuite["ğŸ§  Psychology Suite<br/>ğŸ”„ Emotional analysis<br/>ğŸ”„ Persuasion techniques<br/>ğŸ”„ Behavioral impact"]
            
            UnifiedAnalysis["ğŸ¤– Unified AI Analysis<br/>ğŸ”„ Multi-dimensional insights<br/>ğŸ”„ Cross-model analysis<br/>ğŸ”„ Comprehensive reports"]
            
            AudienceInsights["ğŸ‘¥ Audience Insights<br/>ğŸ”„ Demographics analysis<br/>ğŸ”„ Engagement patterns<br/>ğŸ”„ Posting optimization"]
            
            PsychAnalytics["ğŸ“Š Psychology Analytics<br/>ğŸ”„ Behavioral patterns<br/>ğŸ”„ Engagement psychology<br/>ğŸ”„ Content effectiveness"]
        end
        
        subgraph "Automation [ğŸ¤– Automation & Workflow (8 Features)]"
            AutoPost["ğŸš€ Automated Posting<br/>ğŸ”„ RapidAPI TwttrAPI primary<br/>ğŸ”„ Intent + DOM fallbacks<br/>ğŸ”„ Safety toggles (OFF default)"]
            
            WorkflowMgr["ğŸ”„ Workflow Manager<br/>ğŸ”„ Template automation<br/>ğŸ”„ Multi-step workflows<br/>ğŸ”„ Scheduled actions"]
            
            GrowthAnalytics["ğŸ“ˆ Growth Analytics<br/>ğŸ”„ Follower trends<br/>ğŸ”„ Engagement monitoring<br/>ğŸ”„ Performance dashboard"]
            
            EngagementDash["â¤ï¸ Engagement Dashboard<br/>ğŸ”„ Real-time monitoring<br/>ğŸ”„ Interaction tracking<br/>ğŸ”„ Community health"]
            
            CommandPalette["âŒ¨ï¸ Command Palette<br/>ğŸ”„ Keyboard shortcuts<br/>ğŸ”„ Quick actions<br/>ğŸ”„ Custom commands"]
            
            InlineComposer["âœï¸ Inline Composer<br/>ğŸ”„ Floating toolbar<br/>ğŸ”„ Context suggestions<br/>ğŸ”„ Quick actions"]
            
            BulkOperations["âš¡ Bulk Advanced Operations<br/>ğŸ”„ Multi-account support<br/>ğŸ”„ Complex filtering<br/>ğŸ”„ Batch processing"]
        end
        
        subgraph "Advanced [ğŸ”¬ Advanced AI Features (13+ Features)]"
            PersonaMgmt["ğŸ‘¤ Persona Management<br/>ğŸ”„ Multiple voices<br/>ğŸ”„ Brand consistency<br/>ğŸ”„ Voice switching"]
            
            ModelComparison["âš–ï¸ Model Comparison<br/>ğŸ”„ Side-by-side generation<br/>ğŸ”„ Performance metrics<br/>ğŸ”„ Cost analysis"]
            
            NBestGen["ğŸª N-Best Generation<br/>ğŸ”„ 3 variants per request<br/>ğŸ”„ Style roulette<br/>ğŸ”„ Parameter jitter"]
            
            QualityRerank["ğŸ† Quality Reranking<br/>ğŸ”„ Cohere-powered filtering<br/>ğŸ”„ Human-preference learning<br/>ğŸ”„ Cliche detection"]
            
            NoveltyGate["ğŸ›¡ï¸ Novelty Gate<br/>ğŸ”„ 3-gram Jaccard similarity<br/>ğŸ”„ Duplicate prevention<br/>ğŸ”„ 200-item history"]
            
            CadenceMimic["ğŸ¯ Cadence Mimic<br/>ğŸ”„ Top-reply style matching<br/>ğŸ”„ Punctuation adaptation<br/>ğŸ”„ Length optimization"]
            
            OneCrumb["ğŸ” One-Crumb Facts<br/>ğŸ”„ Perplexity integration<br/>ğŸ”„ 18-word facts<br/>ğŸ”„ 40% chance, 450ms limit"]
            
            TopicRouting["ğŸ¯ Topic-Aware Routing<br/>ğŸ”„ Code/Finance/General detection<br/>ğŸ”„ Model optimization<br/>ğŸ”„ Performance/cost balance"]
            
            HistoryViewer["ğŸ“š History Viewer<br/>ğŸ”„ Complete generation history<br/>ğŸ”„ Search and filter<br/>ğŸ”„ Re-use content"]
        end
    end

    %% Multi-API Integration Ecosystem
    subgraph "APIs [ğŸŒ Multi-Provider API Ecosystem (7+ Providers)]"
        subgraph "Primary [Primary AI & Core Providers]"
            OpenRouter["ğŸ¤– OpenRouter<br/>âœ… GPT-4, Claude, Gemini, Llama<br/>âœ… 50+ models<br/>âœ… Primary generation"]
            
            RapidAPI["âš¡ RapidAPI Hub<br/>ğŸ”„ TwttrAPI posting<br/>ğŸ”„ Old Bird context<br/>ğŸ”„ Multiple providers"]
            
            Perplexity["ğŸ” Perplexity<br/>ğŸ”„ Real-time research<br/>ğŸ”„ Fact-checking<br/>ğŸ”„ Source validation"]
            
            Twitter154["ğŸ“± Twitter154<br/>ğŸ”„ Alternative context<br/>ğŸ”„ Backup API provider<br/>ğŸ”„ Rate limiting"]
        end
        
        subgraph "Enhancement [Quality Enhancement & Analysis APIs]"
            Cohere["ğŸ† Cohere<br/>ğŸ”„ Response reranking<br/>ğŸ”„ Quality filtering<br/>ğŸ”„ Embedding models"]
            
            JinaAI["ğŸ”— Jina AI<br/>ğŸ”„ Advanced embeddings<br/>ğŸ”„ Semantic analysis<br/>ğŸ”„ Content understanding"]
            
            ExaAI["ğŸ” Exa AI<br/>ğŸ”„ Web search<br/>ğŸ”„ Content discovery<br/>ğŸ”„ Trend analysis"]
            
            XAI["ğŸ†š X.AI (Grok)<br/>ğŸ”„ Alternative models<br/>ğŸ”„ Competitive analysis<br/>ğŸ”„ Latest AI capabilities"]
            
            MicrolinkAPI["ğŸ”— Microlink API<br/>ğŸ”„ URL analysis<br/>ğŸ”„ Metadata extraction<br/>ğŸ”„ Link processing"]
        end
    end

    %% Enhanced Processing Pipeline
    subgraph "Pipeline [ğŸ§  Advanced AI Processing Pipeline]"
        MultiContext["ğŸ§µ Multi-Context Analysis<br/>ğŸ”„ Thread reconstruction<br/>ğŸ”„ Cross-tweet analysis<br/>ğŸ”„ User history awareness<br/>ğŸ”„ Real-time data inclusion"]
        
        AdvancedGeneration["âš¡ Advanced Generation Pipeline<br/>ğŸ”„ N-best structured output<br/>ğŸ”„ Style roulette (5 types)<br/>ğŸ”„ Parameter jitter<br/>ğŸ”„ Topic-aware routing"]
        
        QualityPipeline["ğŸ† Quality Enhancement Pipeline<br/>ğŸ”„ Cohere reranking (â‰¤450ms)<br/>ğŸ”„ Novelty gate (Jaccard â‰¥0.58)<br/>ğŸ”„ Cadence matching<br/>ğŸ”„ One-crumb fact enhancement"]
        
        PostingChain["ğŸš€ Automated Posting Chain<br/>ğŸ”„ TwttrAPI (RapidAPI primary)<br/>ğŸ”„ Share Intent fallback<br/>ğŸ”„ DOM click backup<br/>ğŸ”„ 3-second UNDO safety"]
        
        AnalyticsEngine["ğŸ“Š Real-time Analytics Engine<br/>ğŸ”„ Performance monitoring<br/>ğŸ”„ Engagement tracking<br/>ğŸ”„ Growth prediction<br/>ğŸ”„ Psychology analysis"]
    end

    %% Comprehensive User Interface Ecosystem
    subgraph "UI [ğŸ¨ Multi-Modal User Interface Ecosystem]"
        subgraph "ExtensionPopup [Extension Control Center]"
            MultiAPIKeys["ğŸ”‘ Multi-API Key Management<br/>OpenRouter/Rapid/Perplexity<br/>Cohere/Jina/Exa/X.AI<br/>Secure storage & testing"]
            
            ContentControls["ğŸ“ Content Generation Controls<br/>Model routing/Temperature<br/>Persona management<br/>Advanced AI features"]
            
            AutomationSettings["ğŸ¤– Automation Configuration<br/>Auto-post toggle (OFF default)<br/>Posting chain config<br/>Safety & rollback features"]
            
            AnalyticsControls["ğŸ“Š Analytics & Insights<br/>Growth tracking config<br/>Psychology analytics<br/>Performance monitoring"]
            
            WorkflowConfig["ğŸ”„ Workflow Configuration<br/>Template automation<br/>Bulk operations<br/>Scheduled actions"]
        end
        
        subgraph "TwitterIntegration [Enhanced Twitter Integration]"
            ComprehensiveToolbar["ğŸ”§ Comprehensive Action Toolbar<br/>[âœ¨AI Reply] [ğŸ§µThread] [ğŸ“ŠAnalytics]<br/>[ğŸ”Research] [ğŸ’¡Enhance] [âš¡Bulk]<br/>[ğŸ­Personas] [ğŸ“šHistory] [âŒ¨ï¸Palette]"]
            
            CommandInterface["âŒ¨ï¸ Command Palette Interface<br/>Ctrl+Shift+T: Open palette<br/>Alt+R: Quick reply<br/>Alt+T: Create tweet<br/>Alt+A: Analyze content<br/>Custom shortcuts"]
            
            AnalyticsOverlays["ğŸ“Š Real-time Analytics Overlays<br/>Engagement predictions<br/>Viral potential scores<br/>Psychology insights<br/>Performance metrics"]
            
            ResearchPanels["ğŸ” Research & Analysis Panels<br/>Real-time fact checking<br/>Source validation<br/>Topic analysis<br/>Context enhancement"]
            
            WorkflowInterfaces["ğŸ”„ Workflow Interfaces<br/>Bulk operation controls<br/>Template automation<br/>Scheduled posting<br/>Progress tracking"]
        end
        
        subgraph "AdvancedInterfaces [Advanced Feature Interfaces]"
            ThreadBuilder["ğŸ§µ Thread Builder Interface<br/>Multi-tweet composition<br/>Structure optimization<br/>Flow analysis<br/>Auto-numbering"]
            
            PersonaManager["ğŸ‘¤ Persona Management UI<br/>Voice switching<br/>Brand consistency<br/>Tone monitoring<br/>Team collaboration"]
            
            AnalyticsDashboard["ğŸ“Š Comprehensive Analytics<br/>Growth tracking<br/>Engagement analysis<br/>Psychology metrics<br/>Performance insights"]
            
            HistoryManager["ğŸ“š Generation History<br/>Complete tracking<br/>Search & filter<br/>Re-use content<br/>Performance analysis"]
        end
    end

    %% Flow Connections
    ContentGen --> MultiContext
    Research --> AdvancedGeneration  
    Automation --> QualityPipeline
    Advanced --> PostingChain
    
    MultiAPIKeys --> OpenRouter
    MultiAPIKeys --> RapidAPI
    MultiAPIKeys --> Perplexity
    ContentControls --> AdvancedGeneration
    AutomationSettings --> PostingChain
    
    ComprehensiveToolbar --> MultiContext
    CommandInterface --> QualityPipeline
    AnalyticsOverlays --> AnalyticsEngine
    ResearchPanels --> AdvancedGeneration
    
    %% Advanced feature flows
    ThreadBuilder --> AdvancedGeneration
    PersonaManager --> QualityPipeline
    AnalyticsDashboard --> AnalyticsEngine
    HistoryManager --> MultiContext
    
    %% Styling
    classDef core fill:#e8f5e8,stroke:#388e3c,stroke-width:3px
    classDef apis fill:#fff3e0,stroke:#f57c00,stroke-width:2px
    classDef pipeline fill:#fce4ec,stroke:#c2185b,stroke-width:2px
    classDef ui fill:#e1f5fe,stroke:#0277bd,stroke-width:2px
    
    class ContentGen,Research,Automation,Advanced core
    class Primary,Enhancement apis
    class MultiContext,AdvancedGeneration,QualityPipeline,PostingChain,AnalyticsEngine pipeline
    class ExtensionPopup,TwitterIntegration,AdvancedInterfaces ui
